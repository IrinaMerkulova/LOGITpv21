CREATE TABLE Autorid (
IDautorid int primary key AUTO_INCREMENT,
Nimi varchar(30) not null,
Perenimi varchar(30) not null,
Sunniaasta date);

CREATE TABLE Keel (
IDkell int primary key AUTO_INCREMENT,
Keel varchar(20) not null,
IDautorid int,
foreign key (IDautorid) references Autorid(IDautorid)
);

CREATE TABLE Raamatud (
IDraamatud int primary key identity(1,1),
Nimetus varchar(30) not null,
Autor varchar(20) not null,
V_aasta date,
R_keel varchar(20) not null,
Hind decimal(5,2),
foreign key (IDautorid) references Autorid(IDautorid)
);

CREATE TABLE Laenutus (
IDlaenutus int primary key AUTO_INCREMENT,
Klient varchar(30) not null,
Raamat varchar(20) not null,
A_kuupaev date,
L_kuupaev date,
IDautorid int,
IDraamatud int,
foreign key (IDautorid) references Autorid(IDautorid),
foreign key (IDraamatud) references Raamatud(IDraamatud)
);

CREATE TABLE Klient (
IDklient int primary key AUTO_INCREMENT,
Nimi varchar(30) not null,
Perenimi varchar(30) not null,
Isikukood varchar(30) not null,
Aadress varchar(30) not null,
foreign key (IDklient) references Laenutus(IDlaenutus)
);

CREATE TABLE Linn (
IDautorid int primary key AUTO_INCREMENT,
LinnaNimi varchar(30) not null
);

CREATE TABLE OstuKrv (
IDostu int primary key AUTO_INCREMENT,
IDautorid int,
foreign key (IDautorid) references Autorid(IDautorid),
kuupaev date,
kogus varchar(20) not null,
Hind decimal(5,2),
IDlinn int,
foreign key (IDlinn) references Linn(IDlinn)
);

